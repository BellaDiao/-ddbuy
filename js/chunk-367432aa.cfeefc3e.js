(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-367432aa"],{"335b":function(e,t,n){"use strict";var i=n("b3e2"),r=n.n(i);r.a},"587d":function(e,t,n){"use strict";n("57e7"),n("9865"),n("456d"),n("ac6a"),n("f3e2");var i=n("bc3a"),r=n.n(i);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(a,o){if("GET"===i.toUpperCase()){var c="";Object.keys(n).forEach((function(e){c+=e+"="+n[e]+"&"})),c?(c=c.substr(0,c.lastIndexOf("&")),-1===t.indexOf("127.0.0.1")?t+="?"+c+"&Geek-James="+s(20):t+="?"+c):-1===t.indexOf("127.0.0.1")&&(t+="?Geek-James="+s(20)),e=r.a.get(t)}else"POST"===i.toUpperCase()&&(e=r.a.post(t,n));e.then((function(e){a(e.data)})).catch((function(e){o(e)}))}))}function s(e){for(var t=["0","1","2","3","4","5","6","7","8","9"],n="",i=0;i<e;i++){var r=Math.ceil(9*Math.random());n+=t[r]}return n}n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return p}));var o="http://api.7-orange.cn:7300/mock/5def6a2d448e330a1116366e/api/",c=function(){return a(o+"recipe/allScene")},l=function(e){return a(o+"recipe/menulist"+e)},u=function(){return a(o+"cart/youlike")},g=function(e){return a(o+"send_code",{phoneNumber:e})},h=function(e,t){return a(o+"login_code",{phone:e,captcha:t},"POST")},p=function(){return a(o+"vip")}},8668:function(e,t,n){e.exports=n.p+"img/blindfold.58ce4239.png"},9865:function(e,t,n){"use strict";var i=n("5ca1"),r=n("6821"),a=n("4588"),s=n("9def"),o=[].lastIndexOf,c=!!o&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(c||!n("2f21")(o)),"Array",{lastIndexOf:function(e){if(c)return o.apply(this,arguments)||0;var t=r(this),n=s(t.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,a(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}})},b3e2:function(e,t,n){},bec1:function(e,t,n){e.exports=n.p+"img/greeting.1415c1c5.png"},d870:function(e,t,n){e.exports=n.p+"img/normal.0447fe9b.png"},ede4:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"loginBox",on:{click:function(t){return e.changeImage(3)}}},[n("div",{staticClass:"auth-form"},[n("div",{staticClass:"panfish"},[n("img",{attrs:{src:e.imageURL,alt:""}})]),n("van-icon",{staticClass:"closeButton",attrs:{name:"close"},on:{click:e.close}}),n("van-tabs",{attrs:{animated:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tab",{attrs:{title:e.$t("login.title")}},[n("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:!e.isShowSMSLogin,expression:"!isShowSMSLogin"}]},[n("van-field",{attrs:{required:"",clearable:"",label:e.$t("login.phoneNumber"),maxlength:"11","error-message":e.phoneNumberRight?"":e.$t("login.phoneNumberNotCorrect"),placeholder:e.$t("login.phoneInput")},on:{click:function(t){return t.stopPropagation(),e.changeImage(0)}},model:{value:e.login_userName,callback:function(t){e.login_userName=t},expression:"login_userName"}}),n("van-field",{attrs:{type:"password",label:e.$t("login.pass"),placeholder:e.$t("login.passTip"),required:""},on:{click:function(t){return t.stopPropagation(),e.changeImage(1)}},model:{value:e.login_password,callback:function(t){e.login_password=t},expression:"login_password"}}),n("van-field",{attrs:{center:"",clearable:"",maxlength:"4",placeholder:e.$t("login.varify")},model:{value:e.imgCaptcha,callback:function(t){e.imgCaptcha=t},expression:"imgCaptcha"}},[n("img",{ref:"imgCaptcha",staticClass:"verificationImage",attrs:{slot:"button",src:"http://demo.itlike.com/web/xlmc/api/captcha",alt:"captcha"},on:{click:function(t){return t.preventDefault(),e.getCaptcha(t)}},slot:"button"})])],1),n("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:e.isShowSMSLogin,expression:"isShowSMSLogin"}]},[n("van-field",{attrs:{required:"",clearable:"",maxlength:"11",label:e.$t("login.phoneNumber"),placeholder:e.$t("login.phoneInput"),"error-message":e.phoneNumberRight?"":e.$("login.phoneNumberNotCorrect")},model:{value:e.login_phone,callback:function(t){e.login_phone=t},expression:"login_phone"}}),n("van-field",{attrs:{center:"",clearable:"",required:"",label:e.$t("login.varify"),maxlength:"6",placeholder:"验证码"},model:{value:e.smsCaptcha,callback:function(t){e.smsCaptcha=t},expression:"smsCaptcha"}},[e.countDown?n("van-button",{attrs:{slot:"button",size:"small",type:"primary",disabled:""},slot:"button",model:{value:e.smsCaptcha,callback:function(t){e.smsCaptcha=t},expression:"smsCaptcha"}},[e._v(e._s(e.$t("login.hasSend"))+e._s(e.countDown)+"s")]):n("van-button",{attrs:{slot:"button",size:"small",type:"primary",disabled:e.captchaDisable},on:{click:e.sendVerifyCode},slot:"button"},[e._v(e._s(e.$t("login.sendVerify")))])],1)],1),n("van-button",{staticStyle:{"margin-top":"1rem"},attrs:{type:"info",size:"large"},on:{click:e.login}},[e._v(e._s(e.$t("login.login")))]),n("div",{staticClass:"switchLogin",on:{click:e.switchLogin}},[e._v(e._s(this.isShowSMSLogin?e.$t("login.phoneVerify"):e.$t("login.message")))])],1),n("van-tab",{attrs:{title:e.$t("login.resgin")}},[n("van-cell-group",[n("van-field",{attrs:{clearable:"",maxlength:"11",label:e.$t("login.phoneNumber"),placeholder:e.$t("login.phoneInput"),required:""},model:{value:e.register_userName,callback:function(t){e.register_userName=t},expression:"register_userName"}}),n("van-field",{attrs:{type:"password",label:e.$t("login.pass"),placeholder:e.$t("login.passTip2"),required:""},model:{value:e.register_pwd,callback:function(t){e.register_pwd=t},expression:"register_pwd"}})],1),n("van-button",{staticStyle:{"margin-top":"1rem"},attrs:{type:"info",size:"large"},on:{click:e.register}},[e._v(e._s(e.$t("login.resgin")))])],1)],1),n("van-divider",{style:{color:"#1989fa",borderColor:"#1989fa",padding:"0 5px"}},[e._v("\n        "+e._s(e.$t("login.otherMethods"))+"\n      ")]),n("van-grid",{attrs:{"column-num":2,border:!1}},[n("van-grid-item",{on:{click:function(t){return e.thirdLogin(0)}}},[n("svg-icon",{attrs:{iconClass:"wechat"}}),n("div",{staticClass:"title"},[e._v(e._s(e.$t("login.wechat")))])],1),n("van-grid-item",{on:{click:function(t){return e.thirdLogin(1)}}},[n("svg-icon",{attrs:{iconClass:"QQ"}}),n("div",{staticClass:"title"},[e._v(e._s(e.$t("login.qqchant")))])],1)],1),n("p",{staticClass:"agreement"},[e._v(" "+e._s(e.$t("login.tipTile"))),n("br"),e._v(e._s(e.$t("login.tipContent"))),n("a",{staticClass:"agreement-box",on:{click:function(t){return t.stopPropagation(),e.agreement(0)}}},[e._v(e._s(e.$t("login.tip")))]),e._v("、"),n("a",{staticClass:"agreement-box",on:{click:function(t){return t.stopPropagation(),e.agreement(1)}}},[e._v(e._s(e.$t("login.tipProcy")))])])],1)])])},r=[],a=(n("1c01"),n("58b2"),n("8e6e"),n("f3e2"),n("d25f"),n("ac6a"),n("456d"),n("c5f6"),n("e7e5"),n("d399")),s=(n("e17f"),n("2241")),o=(n("96cf"),n("3b8d")),c=n("bd86"),l=n("587d"),u=n("2f62");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(c["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={data:function(){return{countDown:0,active:0,login_userName:"",login_password:"",login_phone:"",register_userName:"",register_pwd:"",imgCaptcha:"",smsCaptcha:"",isShowSMSLogin:!0,switchLoginMsg:this.$t("login.switchLoginMsg"),imageURL:n("d870"),smsCaptchaResult:null,userInfo:null}},computed:{phoneNumberRight:function(){var e=this.isShowSMSLogin?this.login_phone:this.login_userName;return!(e.length>10)||/[1][3,4,5,6,7,8][0-9]{9}$/.test(e)},captchaDisable:function(){return!(this.login_phone.length>10&&this.phoneNumberRight)}},methods:h({},Object(u["b"])(["syncuserInfo"]),{switchLogin:function(){this.isShowSMSLogin=!this.isShowSMSLogin},changeImage:function(e){this.imageURL=n(0==e?"bec1":1==e?"8668":"d870")},getCaptcha:function(){var e=this.$refs.imgCaptcha;this.$set(e,"src","http://demo.itlike.com/web/xlmc/api/captcha?time="+new Date)},sendVerifyCode:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.countDown=60,this.timeIntervalID=setInterval((function(){n.countDown--,0==n.countDown&&clearInterval(n.timeIntervalID)}),1e3),e.next=4,Object(l["b"])(this.login_phone);case 4:t=e.sent,200==t.success_code&&(this.smsCaptchaResult=t.data.code,s["a"].alert({title:this.$t("login.tipTile"),message:this.$t("login.message")+t.data.code}).then((function(){})));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isShowSMSLogin){e.next=16;break}if(this.phoneNumberRight&&!(this.login_phone.length<10)){e.next=6;break}return Object(a["a"])({message:this.$t("login.pleaseInputCorrectPhoneNumber"),duration:800}),e.abrupt("return");case 6:if(!(this.smsCaptcha<7||this.smsCaptcha!=Number(this.smsCaptchaResult))){e.next=9;break}return Object(a["a"])({message:this.$t("login.pleaseInputCorrectVerifyNumber"),duration:800}),e.abrupt("return");case 9:return e.next=11,Object(l["f"])(this.login_phone,this.smsCaptcha);case 11:t=e.sent,this.syncuserInfo(t.data),this.$router.back(),e.next=39;break;case 16:if(!(this.login_userName.length<1)){e.next=21;break}return Object(a["a"])({message:this.$t("login.phoneNumber"),duration:800}),e.abrupt("return");case 21:if(this.phoneRegex(this.login_userName)){e.next=26;break}return Object(a["a"])({message:this.$t("login.phoneNumberNotCorrect"),duration:800}),e.abrupt("return");case 26:if(!(this.login_password.length<1)){e.next=31;break}return Object(a["a"])({message:this.$t("login.passNumberNotCorrect"),duration:800}),e.abrupt("return");case 31:if(!(this.imgCaptcha.length<1)){e.next=34;break}return Object(a["a"])({message:this.$t("login.pleaseInputCorrectVerifyNumber"),duration:800}),e.abrupt("return");case 34:return e.next=36,Object(l["f"])(this.login_userName,this.login_password);case 36:n=e.sent,this.syncuserInfo(n.data),this.$router.back();case 39:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.register_userName.length<1)){e.next=4;break}Object(a["a"])({message:this.$t("login.phoneNumberNotEmpty"),duration:800}),e.next=21;break;case 4:if(this.phoneRegex(this.register_userName)){e.next=8;break}Object(a["a"])({message:this.$t("login.phoneNumberNotCorrect"),duration:800}),e.next=21;break;case 8:if(!(this.register_pwd.length<0)){e.next=12;break}Object(a["a"])({message:this.$t("login.passTip"),duration:800}),e.next=21;break;case 12:if(!(this.register_pwd.length<6)){e.next=16;break}Object(a["a"])({message:this.$t("login.passTip2"),duration:800}),e.next=21;break;case 16:return e.next=18,Object(l["f"])(this.register_userName,this.register_pwd);case 18:t=e.sent,this.syncuserInfo(t.data),this.$router.back();case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),agreement:function(e){0==e?Object(a["a"])({message:this.$t("login.tip"),duration:800}):Object(a["a"])({message:this.$t("login.tipProcy"),duration:800})},close:function(){this.$router.back()},thirdLogin:function(e){0==e?Object(a["a"])({message:this.$t("login.otherWechat"),duration:800}):Object(a["a"])({message:this.$t("login.otherQQ"),duration:800})},phoneRegex:function(e){return/[1][3,4,5,6,7,8][0-9]{9}$/.test(e)}})},m=p,f=(n("335b"),n("2877")),d=Object(f["a"])(m,i,r,!1,null,"16ba9510",null);t["default"]=d.exports}}]);